<!DOCTYPE html>
<html lang="en">

<head>
    <title>ES6 Arrow Function</title>
    <style>
        .box {
            width: 200px;
            padding: 60px;
            text-align: center;
            font-size: 30px;
            margin-top: 50px;
        }

        .green {
            background-color: green;
        }

        .blue {
            background-color: dodgerblue;
        }

        .orange {
            background-color: orangered;
        }
    </style>
</head>

<body>
    <h1>Section 7: Get Ready for the Future: ES6 / ES2015</h1>

    <div class="box green">I'm green!</div>
    <div class="box blue">I'm blue!</div>
    <div class="box orange">I'm orange!</div>
    <script>
        //ARRAY
        var g_values = [4, 3, 23, 43, 11, 32, 50]
        const g_result = g_values.sort((a,b) => b - a);
        console.log(g_result); //[50, 43, 32, 23, 11, 4, 3]

        //E.G CASE IV
        function f_Person(name){
            this.name = name;
        }
        f_Person.prototype.myFriends = function(friends){
            var f_arr = friends.map(friend => 
                `${this.name} is friend with ${friend}`
            )
            console.log(f_arr);
        }
        f_friends = ['Bob', 'Emilie', 'Mark'];
        //new f_Person('John').myFriends(f_friends);

        //E.G CASE II
        var e_box5 = {
            color: 'green',
            position:1,
            clickMe(){
                document.querySelector('.green').addEventListener('click', () => 
                   {
                    var str = 'This  is box number ' + this.position + ' this.color ';
                    console.log(str);
                   }
                )
            }
        }
        e_box5.clickMe();

          
        //E.G CASE 1
        const years = [1990, 1965, 1982, 1937];
        let d_age = years.map(year => 2016 - year); //[26, 51, 34, 79]

        d_age = years.map((year, index) => `Age element ${index + 1} is ${2018 - year}`);

        d_age = years.map((year, index) => {
            const now = new Date().getFullYear();
            const age = now - year;
            return `Age element ${index + 1} is ${age}`
        })

        //SCOPE PROBLEM
        var c_obj = {
            id: 42,
            foo: function foo() {
                setTimeout(() => {
                    console.log(this.id)
                }, 2000)
            }
        }
        //c_obj.foo();

        //IFEE STYLE
        //ES6
        let b_person_a = ((name) => {
            return {
                getName: function () {
                    return name
                }
            }
        })("Nicholas");
        b_person_a.getName() //"Nicholas"
        //ES5
        let b_person = function (name) {
            return {
                getName: function () {
                    return name
                }
            }
        }("Nicholas");
        b_person.getName();

        //BASIC VARIATIONS OF ARROW FUNCTION

        const a_obj = id => ({ id: id, name: "Temp" });
        a_obj(id = 12) //{id: 12, name: "Temp"}

        const a_foo = () => 12; // 12

        const a_bar = x => x * 12;
        a_bar(12) //144

        var a_baz = (x, y) => {
            var z = x * 2 + y;
            y++;
            x *= 3;
            return (x + y + z) / 2;
        }
        a_baz(5, 10) //23



    </script>
</body>

</html>